# Ollama Vision Explainer

アクティブウィンドウのスクリーンショットを定期的に取得してOllamaに送信し、画面内容の説明を出力するアプリケーションです。

## 前提条件

1. **Ollama** がローカルで起動していること
2. **Vision対応モデル** (llava等) がOllamaにインストールされていること

### Ollamaのセットアップ

```bash
# Ollamaをインストール（まだの場合）
# https://ollama.ai からダウンロードしてインストール

# llavaモデルをプル
ollama pull llava

# Ollamaサーバーを起動
ollama serve
```

## インストール

```bash
# 依存関係をインストール
uv sync
```

## 使用方法

```bash
# アプリケーションを実行
uv run python main.py
```

## 機能

- **アクティブウィンドウの自動検出**: 現在フォーカスされているウィンドウを自動で特定
- **定期的スクリーンショット**: 10秒間隔でスクリーンショットを取得（設定可能）
- **Ollama連携**: ローカルのOllamaサーバーに画像を送信して解析
- **リアルタイム出力**: 解析結果をコンソールにリアルタイムで表示
- **エラーハンドリング**: 接続エラーやタイムアウトなどを適切に処理

## 設定

`main.py`の`main()`関数内で以下の設定を変更できます：

```python
# Ollamaの設定
explainer = OllamaVisionExplainer(
    ollama_url="http://localhost:11434",  # OllamaサーバーのURL
    model_name="llava"  # 使用するモデル名
)

# 実行間隔の設定
explainer.run_continuous_analysis(interval=10)  # 10秒間隔
```

## 使用例

1. Ollamaサーバーを起動
2. アプリケーションを実行
3. 任意のアプリケーション（ブラウザ、エディタ等）をアクティブにする
4. 10秒ごとに画面内容の説明がコンソールに表示される

## 停止方法

`Ctrl+C` でアプリケーションを停止できます。

## 注意事項

- アクティブウィンドウが存在しない場合はスキップされます
- Ollamaサーバーが起動していない場合は接続エラーが表示されます
- 画像の処理には時間がかかる場合があります（モデルやハードウェアに依存）
